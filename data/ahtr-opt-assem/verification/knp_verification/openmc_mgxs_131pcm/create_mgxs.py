import openmc
import sys 
sys.path.insert(1, '../')
from fhr_assem_openmc import *

sp = openmc.StatePoint("./openmc_mgxs_131pcm/statepoint.80.h5", autolink=False)
su = openmc.Summary("./openmc_mgxs_131pcm/summary.h5")
sp.link_with_summary(su)
mgxs_lib.load_from_statepoint(sp)

mgxs_file = mgxs_lib.create_mg_library(
    xs_type="macro",
    xsdata_names=[
        "outer_flibe",
        "graphite_structure",
        "inner_flibe", 
        "slot_flibe",
        "P_1",
        "P_2",
        "P_3",
        "P_4",
        "P_5",
        "P_6",
        "fuel_1_1",
        "fuel_1_2",
        "fuel_1_3",
        "fuel_1_4",
        "fuel_1_5",
        "fuel_1_6",
        "fuel_1_7",
        "fuel_1_8",
        "fuel_1_9",
        "fuel_1_10",
        "fuel_2_1",
        "fuel_2_2",
        "fuel_2_3",
        "fuel_2_4",
        "fuel_2_5",
        "fuel_2_6",
        "fuel_2_7",
        "fuel_2_8",
        "fuel_2_9",
        "fuel_2_10",
        "fuel_3_1",
        "fuel_3_2",
        "fuel_3_3",
        "fuel_3_4",
        "fuel_3_5",
        "fuel_3_6",
        "fuel_3_7",
        "fuel_3_8",
        "fuel_3_9",
        "fuel_3_10",
        "fuel_4_1",
        "fuel_4_2",
        "fuel_4_3",
        "fuel_4_4",
        "fuel_4_5",
        "fuel_4_6",
        "fuel_4_7",
        "fuel_4_8",
        "fuel_4_9",
        "fuel_4_10",
        "fuel_5_1",
        "fuel_5_2",
        "fuel_5_3",
        "fuel_5_4",
        "fuel_5_5",
        "fuel_5_6",
        "fuel_5_7",
        "fuel_5_8",
        "fuel_5_9",
        "fuel_5_10",
        "fuel_6_1",
        "fuel_6_2",
        "fuel_6_3",
        "fuel_6_4",
        "fuel_6_5",
        "fuel_6_6",
        "fuel_6_7",
        "fuel_6_8",
        "fuel_6_9",
        "fuel_6_10",
    ]
)
mgxs_file.export_to_hdf5()
